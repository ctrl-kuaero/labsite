# 研究内容の管理

制御研の研究内容を幅広く伝えよう．

## 概観
### 研究室の取り組み概要
- 大まかに研究内容をまとめている
- 研究室前の廊下に貼られているポスターと同様の内容
### 研究カード
- 上記概要よりは詳しくそれぞれの研究をまとめる
- More Details ボタン（もしくは画像）でポップアップ（Modal）を表示
### ギャラリー
- 実験やシミュレーションなど，動画や写真のギャラリー

## 研究カードの追加方法
- `content/research` 内に新しくフォルダを作成
  - フォルダ名はなんでもよい
- 作成したフォルダ内に，次の形式の`_index.ja.md` と `_index.en.md` を作成する  
  markdown の書き方は[他サイト](https://qiita.com/oreo/items/82183bfbaac69971917f#:~:text=Markdown%EF%BC%88%E3%83%9E%E3%83%BC%E3%82%AF%E3%83%80%E3%82%A6%E3%83%B3%EF%BC%89%E3%81%AF%E3%80%81,%E3%82%82%E9%96%8B%E7%99%BA%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%80%82)参照
    ```
    ---
    title: "タイトル"
    date: 日付(yyyy-mm-dd) # ソート用
    ---
    本文（markdown）
    ```
- （必要なら）画像をフォルダに追加する

### ギャラリーの追加方法（検討中）
- `data/research.toml` に画像ファイル名とキャプション，日付を追加する
  ```
  [[gallery]]
    ja_caption = "日本語キャプション"
    en_caption = "英語キャプション"
    fig_name = "画像ファイル名"
    date     = yyyyddmm
  ```
- 画像ファイルを `content/research/gallery` に置く

## メモ
### 研究カード
- 表示順は日付順（降順）
- 画像の内ひとつを勝手に選んでサムネにする
  - svg ファイルはサムネにできない（トリミングができないため）
  - 表示するものがなければ，No Image と表記
- Modal では一律，本文記述後に画像がすべて表示される
- 画像の表示順序は現状ファイル名順
- サイズや形状に依存せず出力
### ギャラリー
- 画像の表示順序は日付順（降順）
- 基本は3列，モバイルでは2列

## 設計方針・小技
- 更新の際に変更するファイルがなるべくまとまっているように
  - 説明文・画像の追加は同一フォルダ内で完結
- 画像やフォルダの名前をたいして気にしなくても，出力がなされる
- 文章の情報を toml などで記述するのはあまり見やすくないため，直で markdown を編集
- md ファイルを作るようにしたことで，html 中での言語に関する条件分岐などが不要に
- 前半の概要・後半のギャラリーは無駄にファイル・フォルダが増えないように `data/research.toml` で管理
- 奇偶で図の位置を割り振る場合，スマホで見た時に文章と画像の順番に一貫性があるように内部的な順序は固定
- カードには画像の内1枚をトリミングしてサムネ表示
  - サムネを押しても Modal が出る

